##/etc/portage/env/polly-env
GENERAL="-fno-math-errno -fno-signed-zeros -fno-trapping-math"
HARDENING="-fcf-protection -D_FORTIFY_SOURCE=3 -D_GLIBCXX_ASSERTIONS -fstack-protector-strong -fstack-clash-protection"
POLLY="-fplugin=LLVMPolly.so -mllvm=-polly -mllvm=-polly-vectorizer=stripmine -mllvm=-polly-omp-backend=LLVM -mllvm=-polly-parallel -mllvm=-polly-num-threads=9 -mllvm=-polly-scheduling=dynamic"
COMMON_FLAGS="-O3 -pipe -march=native -flto=thin ${GENERAL} ${HARDENING} ${POLLY}"
#COMMON_FLAGS="-O2 -pipe -march=native -flto -fno-semantic-interposition -fopenmp  -fopenmp-simd  "
CPU_FLAGS_X86="aes avx avx2 f16c fma3 mmx mmxext pclmul popcnt rdrand sha sse sse2 sse3 sse4_1 sse4_2 sse4a ssse3 vpclmulqdq"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"
MAKEOPTS="-j14"
NOCOMMON_OVERRIDE_LIBTOOL="yes"
EMERGE_DEFAULT_OPTS="--keep-going=y"
#EMERGE_DEFAULT_OPTS="--jobs=10 --keep-going=y --ask"
ACCEPT_KEYWORDS="~amd64"
ACCEPT_LICENSE="*"
VIDEO_CARDS="nvidia amdgpu"
RUSTFLAGS="-C target-cpu=native -C strip=debuginfo -C opt-level=3 -Clinker=clang -Clinker-plugin-lto -Clink-arg=-fuse-ld=lld"
CC="clang"
CXX="clang++"
CPP="clang-cpp"
AR="llvm-ar"
AS="clang -c"
LD="ld.lld"
NM="llvm-nm"
RANLIB="llvm-ranlib"
LLVM_SLOT=19
LDFLAGS="-fuse-ld=lld -Wl,-O2 -Wl,--as-needed"
